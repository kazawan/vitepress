---
tag: arduino
title: 插值动画函数
des: Arduino相关笔记
date: 2025-04-14
img: data:image/png;base64,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
---

# 动画插值函数

```c
/*Arduino OLED 动画线性函数*/

//初始参数
//目标参数
//速度 数值越大越慢
void animation(float *a, float *a_trg, uint8_t n)
{
  if (fabs(*a - *a_trg) < 0.15)
    *a = *a_trg;
  if (*a != *a_trg)
    *a += (*a_trg - *a) / (n / 10.0);
}
```

```c
// 最新 最后不会抖动
void animation(float *a, float *a_trg, uint8_t n)
{
  if(*a != *a_trg)
  {
    if (fabs(*a - *a_trg) < 0.15f) *a = *a_trg;
    else *a += (*a_trg - *a) / (n / 10.0f);
  }
}
```
